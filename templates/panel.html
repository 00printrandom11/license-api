<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Control Center - License Management</title>

<style>
:root{
--bg:#0a0e13;
--card:#161b22;
--card-hover:#1c2128;
--border:#30363d;
--text:#e6edf3;
--text-dim:#8b949e;
--green:#2ecc71;
--red:#e74c3c;
--blue:#3498db;
--orange:#f39c12;
--purple:#9b59b6;
--yellow:#f1c40f;
--shadow:rgba(0,0,0,.3);
}

[data-theme="light"]{
--bg:#f5f7fa;
--card:#ffffff;
--card-hover:#f8f9fb;
--border:#e1e4e8;
--text:#24292e;
--text-dim:#586069;
--shadow:rgba(0,0,0,.1);
}

*{box-sizing:border-box;margin:0;padding:0}

body{
background:var(--bg);
color:var(--text);
font-family:'Segoe UI',system-ui,-apple-system,sans-serif;
padding:0;
min-height:100vh;
transition:background .3s ease,color .3s ease;
}

.header{
background:linear-gradient(135deg,var(--card),var(--card-hover));
border-bottom:2px solid var(--border);
padding:20px 30px;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 4px 20px var(--shadow);
position:sticky;
top:0;
z-index:1000;
backdrop-filter:blur(10px);
animation:slideDown .5s ease;
}

@keyframes slideDown{
from{transform:translateY(-100%);opacity:0}
to{transform:translateY(0);opacity:1}
}

.header h1{
font-size:24px;
display:flex;
align-items:center;
gap:12px;
background:linear-gradient(135deg,var(--blue),var(--purple));
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
animation:pulse 2s ease-in-out infinite;
}

@keyframes pulse{
0%,100%{opacity:1}
50%{opacity:.7}
}

.header-actions{
display:flex;
gap:15px;
align-items:center;
}

.theme-toggle{
background:var(--card);
border:2px solid var(--border);
border-radius:50px;
padding:8px;
cursor:pointer;
display:flex;
gap:5px;
transition:all .3s ease;
}

.theme-toggle:hover{
transform:scale(1.05);
box-shadow:0 5px 15px var(--shadow);
}

.theme-btn{
padding:8px 16px;
border-radius:50px;
border:none;
cursor:pointer;
transition:all .3s ease;
font-size:14px;
font-weight:600;
}

.theme-btn.active{
background:linear-gradient(135deg,var(--blue),var(--purple));
color:white;
box-shadow:0 4px 12px var(--shadow);
}

.theme-btn:not(.active){
background:transparent;
color:var(--text-dim);
}

.container{
max-width:1800px;
margin:0 auto;
padding:25px;
animation:fadeIn .5s ease;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(20px)}
to{opacity:1;transform:translateY(0)}
}

.card{
background:var(--card);
border:1px solid var(--border);
border-radius:16px;
padding:25px;
margin-bottom:20px;
box-shadow:0 4px 20px var(--shadow);
transition:all .3s ease;
animation:scaleIn .4s ease;
}

@keyframes scaleIn{
from{transform:scale(.95);opacity:0}
to{transform:scale(1);opacity:1}
}

.card:hover{
transform:translateY(-5px);
box-shadow:0 8px 30px var(--shadow);
border-color:var(--blue);
}

.metrics{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
margin-bottom:30px;
}

.metric-card{
background:linear-gradient(135deg,var(--card),var(--card-hover));
border:2px solid var(--border);
border-radius:16px;
padding:25px;
text-align:center;
transition:all .3s cubic-bezier(.4,0,.2,1);
cursor:default;
position:relative;
overflow:hidden;
}

.metric-card::before{
content:'';
position:absolute;
top:-50%;
left:-50%;
width:200%;
height:200%;
background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);
transform:rotate(45deg);
transition:all .6s;
}

.metric-card:hover::before{
left:100%;
}

.metric-card:hover{
transform:translateY(-8px) scale(1.02);
box-shadow:0 12px 35px var(--shadow);
border-color:var(--blue);
}

.metric-value{
font-size:42px;
font-weight:700;
margin:15px 0;
animation:countUp .5s ease;
}

@keyframes countUp{
from{opacity:0;transform:scale(.5)}
to{opacity:1;transform:scale(1)}
}

.metric-label{
color:var(--text-dim);
font-size:13px;
text-transform:uppercase;
letter-spacing:1.5px;
font-weight:600;
}

input,select,textarea{
width:100%;
padding:14px 18px;
background:var(--bg);
border:2px solid var(--border);
border-radius:12px;
color:var(--text);
font-size:14px;
transition:all .3s ease;
}

input:focus,select:focus,textarea:focus{
outline:none;
border-color:var(--blue);
box-shadow:0 0 0 4px rgba(52,152,219,.2);
transform:translateY(-2px);
}

.btn{
padding:12px 24px;
border-radius:12px;
border:none;
cursor:pointer;
font-size:14px;
font-weight:600;
transition:all .3s cubic-bezier(.4,0,.2,1);
display:inline-flex;
align-items:center;
gap:8px;
text-decoration:none;
position:relative;
overflow:hidden;
}

.btn::before{
content:'';
position:absolute;
top:50%;
left:50%;
width:0;
height:0;
border-radius:50%;
background:rgba(255,255,255,.3);
transform:translate(-50%,-50%);
transition:width .6s,height .6s;
}

.btn:hover::before{
width:300px;
height:300px;
}

.btn:hover{
transform:translateY(-3px);
box-shadow:0 8px 20px var(--shadow);
}

.btn:active{
transform:translateY(-1px);
}

.btn-blue{background:var(--blue);color:white}
.btn-green{background:var(--green);color:white}
.btn-red{background:var(--red);color:white}
.btn-purple{background:var(--purple);color:white}
.btn-orange{background:var(--orange);color:white}
.btn-yellow{background:var(--yellow);color:#000}

.btn-sm{padding:8px 16px;font-size:13px}

.table-container{
overflow-x:auto;
border-radius:12px;
}

table{
width:100%;
border-collapse:separate;
border-spacing:0;
font-size:13px;
}

th{
background:linear-gradient(135deg,var(--card-hover),var(--card));
padding:18px 15px;
text-align:left;
font-size:12px;
text-transform:uppercase;
letter-spacing:1px;
color:var(--text-dim);
border-bottom:2px solid var(--border);
white-space:nowrap;
position:sticky;
top:0;
z-index:10;
font-weight:700;
}

td{
padding:18px 15px;
border-bottom:1px solid var(--border);
vertical-align:middle;
transition:all .3s ease;
}

tbody tr{
transition:all .3s ease;
}

tbody tr:hover{
background:var(--card-hover);
transform:scale(1.01);
box-shadow:0 4px 15px var(--shadow);
}

.badge{
padding:8px 16px;
border-radius:50px;
font-size:11px;
font-weight:700;
display:inline-flex;
align-items:center;
gap:6px;
text-transform:uppercase;
letter-spacing:.5px;
transition:all .3s ease;
animation:badgePop .4s ease;
}

@keyframes badgePop{
from{transform:scale(0)}
to{transform:scale(1)}
}

.badge-green{background:var(--green);color:white;box-shadow:0 4px 12px rgba(46,204,113,.3)}
.badge-red{background:var(--red);color:white;box-shadow:0 4px 12px rgba(231,76,60,.3)}
.badge-orange{background:var(--orange);color:white;box-shadow:0 4px 12px rgba(243,156,18,.3)}
.badge-purple{background:var(--purple);color:white;box-shadow:0 4px 12px rgba(155,89,182,.3)}
.badge-blue{background:var(--blue);color:white;box-shadow:0 4px 12px rgba(52,152,219,.3)}
.badge-yellow{background:var(--yellow);color:#000;box-shadow:0 4px 12px rgba(241,196,15,.3)}

.pulse{
animation:pulse 2s ease-in-out infinite;
}

.actions{
display:flex;
gap:8px;
flex-wrap:wrap;
}

.toolbar{
display:flex;
gap:15px;
margin-bottom:25px;
flex-wrap:wrap;
align-items:center;
}

.search-box{
flex:1;
min-width:300px;
position:relative;
}

.search-box input{
padding-left:50px;
}

.search-icon{
position:absolute;
left:18px;
top:50%;
transform:translateY(-50%);
color:var(--text-dim);
font-size:20px;
transition:all .3s ease;
}

.search-box:focus-within .search-icon{
color:var(--blue);
transform:translateY(-50%) scale(1.2);
}

.modal{
position:fixed;
inset:0;
background:rgba(0,0,0,.7);
backdrop-filter:blur(10px);
display:none;
align-items:center;
justify-content:center;
z-index:9999;
padding:20px;
animation:fadeIn .3s ease;
}

.modal-content{
background:var(--card);
border:2px solid var(--border);
border-radius:20px;
padding:35px;
max-width:550px;
width:100%;
box-shadow:0 20px 60px rgba(0,0,0,.5);
animation:modalSlide .4s cubic-bezier(.4,0,.2,1);
}

@keyframes modalSlide{
from{opacity:0;transform:translateY(-50px) scale(.9)}
to{opacity:1;transform:translateY(0) scale(1)}
}

.modal h3{
margin-bottom:25px;
font-size:24px;
background:linear-gradient(135deg,var(--blue),var(--purple));
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.form-group{
margin-bottom:20px;
}

.form-group label{
display:block;
margin-bottom:10px;
color:var(--text-dim);
font-size:13px;
font-weight:700;
text-transform:uppercase;
letter-spacing:.5px;
}

.log-item{
background:var(--card-hover);
border:1px solid var(--border);
border-radius:12px;
padding:15px 20px;
margin-bottom:12px;
font-size:12px;
display:flex;
justify-content:space-between;
align-items:center;
transition:all .3s ease;
animation:slideIn .4s ease;
}

@keyframes slideIn{
from{opacity:0;transform:translateX(-30px)}
to{opacity:1;transform:translateX(0)}
}

.log-item:hover{
background:var(--card);
transform:translateX(8px);
box-shadow:0 4px 15px var(--shadow);
}

.log-action{
font-weight:700;
color:var(--blue);
}

.log-time{
color:var(--text-dim);
font-size:11px;
font-weight:600;
}

.tabs{
display:flex;
gap:8px;
margin-bottom:25px;
border-bottom:2px solid var(--border);
overflow-x:auto;
}

.tab{
padding:14px 24px;
background:transparent;
border:none;
color:var(--text-dim);
cursor:pointer;
font-size:14px;
font-weight:700;
border-bottom:3px solid transparent;
margin-bottom:-2px;
transition:all .3s cubic-bezier(.4,0,.2,1);
position:relative;
white-space:nowrap;
}

.tab::after{
content:'';
position:absolute;
bottom:0;
left:50%;
width:0;
height:3px;
background:linear-gradient(90deg,var(--blue),var(--purple));
transform:translateX(-50%);
transition:width .3s ease;
}

.tab:hover{
color:var(--text);
background:var(--card-hover);
}

.tab.active{
color:var(--blue);
}

.tab.active::after{
width:100%;
}

.tab-content{
display:none;
animation:fadeIn .4s ease;
}

.tab-content.active{
display:block;
}

.code{
font-family:'Courier New',monospace;
background:var(--bg);
padding:8px 12px;
border-radius:8px;
font-size:13px;
border:1px solid var(--border);
transition:all .3s ease;
display:inline-block;
max-width:100%;
overflow-x:auto;
}

.code:hover{
border-color:var(--blue);
box-shadow:0 2px 8px var(--shadow);
}

@media(max-width:768px){
.header{flex-direction:column;gap:15px}
.metrics{grid-template-columns:repeat(2,1fr)}
table{font-size:11px}
th,td{padding:12px 10px}
.actions{flex-direction:column}
.btn{width:100%;justify-content:center}
}

.loading{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
}

.spinner{
width:50px;
height:50px;
border:4px solid var(--border);
border-top:4px solid var(--blue);
border-radius:50%;
animation:spin 1s linear infinite;
}

@keyframes spin{
to{transform:rotate(360deg)}
}
</style>
</head>

<body data-theme="dark">

<div class="header">
<h1>âš¡ Control Center</h1>
<div class="header-actions">
<div class="theme-toggle">
<button class="theme-btn active" onclick="setTheme('dark')">ğŸŒ™ Gece</button>
<button class="theme-btn" onclick="setTheme('light')">â˜€ï¸ GÃ¼ndÃ¼z</button>
</div>
<a href="/panel/logout" class="btn btn-red btn-sm">ğŸšª Ã‡Ä±kÄ±ÅŸ</a>
</div>
</div>

<div class="container">

<div class="metrics">
<div class="metric-card">
<div class="metric-label">Toplam Lisans</div>
<div class="metric-value" style="color:var(--blue)">{{ metrics.total }}</div>
</div>
<div class="metric-card">
<div class="metric-label">Åu An Aktif</div>
<div class="metric-value" style="color:var(--green)">{{ metrics.active_now }}</div>
</div>
<div class="metric-card">
<div class="metric-label">BanlÄ± Lisans</div>
<div class="metric-value" style="color:var(--red)">{{ metrics.banned }}</div>
</div>
<div class="metric-card">
<div class="metric-label">BanlÄ± HWID</div>
<div class="metric-value" style="color:var(--purple)">{{ metrics.banned_hwids }}</div>
</div>
</div>

<div class="tabs">
<button class="tab active" onclick="switchTab('licenses')">ğŸ“‹ Lisanslar</button>
<button class="tab" onclick="switchTab('create')">â• Yeni Lisans</button>
<button class="tab" onclick="switchTab('banned')">ğŸš« BanlÄ± HWID ({{ metrics.banned_hwids }})</button>
<button class="tab" onclick="switchTab('logs')">ğŸ“Š Audit Logs</button>
</div>

<div id="tab-licenses" class="tab-content active">

<div class="toolbar">
<div class="search-box">
<span class="search-icon">ğŸ”</span>
<input id="search" type="text" placeholder="Key, HWID, IP, Not ara...">
</div>
</div>

<div class="card">
<div class="table-container">
<table id="licenseTable">
<thead>
<tr>
<th>ID</th>
<th>KEY</th>
<th>HWID</th>
<th>SON KONTROL</th>
<th>DURUM</th>
<th>BÄ°TÄ°Å</th>
<th>KALAN</th>
<th>IP</th>
<th>NOT</th>
<th>Ä°ÅLEMLER</th>
</tr>
</thead>
<tbody>
{% for lic in licenses %}
<tr>
<td><strong>#{{ lic.id }}</strong></td>

<td>
<span class="code">{{ lic.license_key }}</span>
<button class="btn btn-purple btn-sm" onclick="copyText('{{ lic.license_key }}')">ğŸ“‹</button>
</td>

<td>
{% if lic.hwid %}
<span class="code" style="max-width:300px">{{ lic.hwid }}</span>
<button class="btn btn-purple btn-sm" onclick="copyText('{{ lic.hwid }}')">ğŸ“‹</button>
{% else %}
<span style="color:var(--text-dim)">-</span>
{% endif %}
</td>

<td>
{% if lic.last_check_at %}
{{ lic.last_check_at.strftime('%d.%m %H:%M:%S') }}
{% else %}
<span style="color:var(--text-dim)">HiÃ§</span>
{% endif %}
</td>

<td>
{% if lic.is_banned %}
<span class="badge badge-red">ğŸš« BANLI</span>
{% elif lic.last_check_at and (now - lic.last_check_at).total_seconds() < 60 %}
<span class="badge badge-green pulse">âœ… Ã‡ALIÅIYOR</span>
{% elif lic.is_active %}
<span class="badge badge-blue">ğŸ”µ AKTÄ°F</span>
{% else %}
<span class="badge badge-red">â¸ PASÄ°F</span>
{% endif %}
</td>

<td>
{% if lic.expiry_date %}
{{ lic.expiry_date.strftime('%d.%m.%Y %H:%M') }}
{% else %}
<span style="color:var(--text-dim)">-</span>
{% endif %}
</td>

<td>
{% if lic.expiry_date %}
{% set sec = (lic.expiry_date - now).total_seconds() %}
{% if sec > 0 %}
{% set days = (sec // 86400) | int %}
{% set hours = ((sec % 86400) // 3600) | int %}
{% set mins = ((sec % 3600) // 60) | int %}
{% if days > 0 %}
<strong style="color:var(--green)">{{ days }}g {{ hours }}s</strong>
{% elif hours > 0 %}
<strong style="color:var(--orange)">{{ hours }}s {{ mins }}dk</strong>
{% else %}
<strong style="color:var(--red)">{{ mins }}dk</strong>
{% endif %}
{% else %}
<span class="badge badge-red">â° DOLDU</span>
{% endif %}
{% else %}
<span style="color:var(--text-dim)">-</span>
{% endif %}
</td>

<td>
{% if lic.client_ip %}
<span class="code" style="font-size:11px">{{ lic.client_ip }}</span>
{% else %}
<span style="color:var(--text-dim)">-</span>
{% endif %}
</td>

<td>
{% if lic.note %}
<span title="{{ lic.note }}">{{ lic.note[:50] }}{% if lic.note|length > 50 %}...{% endif %}</span>
{% else %}
<span style="color:var(--text-dim)">-</span>
{% endif %}
</td>

<td>
<div class="actions">
<button class="btn btn-blue btn-sm" onclick="openTimeModal({{ lic.id }})">â±ï¸</button>

<form action="/panel/licenses/{{ lic.id }}/toggle" method="post" style="display:inline">
<button class="btn btn-sm {% if lic.is_active %}btn-orange{% else %}btn-green{% endif %}">
{% if lic.is_active %}â¸{% else %}â–¶{% endif %}
</button>
</form>

<form action="/panel/licenses/{{ lic.id }}/reset_hwid" method="post" style="display:inline">
<button class="btn btn-yellow btn-sm">ğŸ”„</button>
</form>

<form action="/panel/licenses/{{ lic.id }}/ban" method="post" style="display:inline">
<button class="btn btn-sm {% if lic.is_banned %}btn-green{% else %}btn-red{% endif %}">
{% if lic.is_banned %}âœ…{% else %}ğŸš«{% endif %}
</button>
</form>

<form action="/panel/licenses/{{ lic.id }}/delete" method="post" style="display:inline" onsubmit="return confirm('Silmek istediÄŸinize emin misiniz?')">
<button class="btn btn-red btn-sm">ğŸ—‘ï¸</button>
</form>
</div>
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
</div>
</div>

<div id="tab-create" class="tab-content">
<div class="card">
<h3>â• Yeni Lisans OluÅŸtur</h3>
<form method="post" action="/panel/licenses/create">
<div class="form-group">
<label>ğŸ“… SÃ¼re (gÃ¼n)</label>
<input name="duration_days" type="number" placeholder="Ã–rn: 30" required min="1">
</div>
<div class="form-group">
<label>ğŸ“ Not (opsiyonel)</label>
<textarea name="note" placeholder="Ã–rn: Premium mÃ¼ÅŸteri - Discord: user#1234" rows="3"></textarea>
</div>
<button type="submit" class="btn btn-green">ğŸ”‘ Lisans OluÅŸtur</button>
</form>
</div>
</div>

<div id="tab-banned" class="tab-content">
<div class="card">
<h3>ğŸš« BanlÄ± HWID'ler - FarklÄ± PC Tespitleri</h3>
{% if banned_hwids %}
<div class="table-container">
<table>
<thead>
<tr>
<th>ID</th>
<th>HWID</th>
<th>LÄ°SANS KEY</th>
<th>NEDEN</th>
<th>Ã‡AKIÅAN HWID</th>
<th>KÄ°M BANLADI</th>
<th>BAN TARÄ°HÄ°</th>
<th>IP</th>
</tr>
</thead>
<tbody>
{% for ban in banned_hwids %}
<tr>
<td><strong>#{{ ban.id }}</strong></td>

<td>
<span class="code" style="max-width:400px">{{ ban.hwid }}</span>
<button class="btn btn-purple btn-sm" onclick="copyText('{{ ban.hwid }}')">ğŸ“‹</button>
</td>

<td>
<span class="code">{{ ban.license_key }}</span>
</td>

<td>
<span class="badge badge-red">{{ ban.reason }}</span>
</td>

<td>
{% if ban.conflicting_hwid %}
<span class="code" style="max-width:300px">{{ ban.conflicting_hwid }}</span>
{% else %}
<span style="color:var(--text-dim)">-</span>
{% endif %}
</td>

<td>
{% if ban.banned_by == 'system' %}
<span class="badge badge-purple">ğŸ¤– SYSTEM</span>
{% else %}
<span class="badge badge-orange">ğŸ‘¤ {{ ban.banned_by }}</span>
{% endif %}
</td>

<td>
{{ ban.banned_at.strftime('%d.%m.%Y %H:%M:%S') }}
</td>

<td>
{% if ban.ip_address %}
<span class="code" style="font-size:11px">{{ ban.ip_address }}</span>
{% else %}
<span style="color:var(--text-dim)">-</span>
{% endif %}
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
{% else %}
<p style="color:var(--text-dim);text-align:center;padding:60px;font-size:18px">
ğŸ‰ HenÃ¼z banlÄ± HWID yok - Sistem temiz!
</p>
{% endif %}
</div>
</div>

<div id="tab-logs" class="tab-content">
<div class="card">
<h3>ğŸ“Š Son 20 Ä°ÅŸlem (Audit Log)</h3>
{% if recent_logs %}
{% for log in recent_logs %}
<div class="log-item">
<div>
<span class="log-action">{{ log.action }}</span>
{% if log.target %}
<span style="color:var(--text-dim)"> â€¢ </span>
<span class="code">{{ log.target }}</span>
{% endif %}
{% if log.details %}
<span style="color:var(--text-dim)"> â€¢ {{ log.details }}</span>
{% endif %}
<br>
<span style="font-size:11px;color:var(--text-dim)">
ğŸ‘¤ {{ log.user }} â€¢ ğŸŒ {{ log.ip_address }}
</span>
</div>
<div class="log-time">
{{ log.timestamp.strftime('%d.%m %H:%M:%S') }}
</div>
</div>
{% endfor %}
{% else %}
<p style="color:var(--text-dim);text-align:center;padding:60px;font-size:18px">
ğŸ“ HenÃ¼z log kaydÄ± yok
</p>
{% endif %}
</div>
</div>

<div id="timeModal" class="modal" onclick="if(event.target==this) closeTimeModal()">
<div class="modal-content">
<h3>â±ï¸ SÃ¼re Ekle/Ã‡Ä±kar</h3>
<form method="post" action="/panel/licenses/add_time">
<input type="hidden" id="modalLicenseId" name="license_id">
<div class="form-group">
<label>ğŸ”¢ Miktar</label>
<input name="amount" type="number" placeholder="Ã–rn: 7" required>
</div>
<div class="form-group">
<label>ğŸ“… Birim</label>
<select name="unit">
<option value="hours">â° Saat</option>
<option value="days">ğŸ“… GÃ¼n</option>
</select>
</div>
<div style="display:flex;gap:15px">
<button type="submit" class="btn btn-green" style="flex:1">âœ… Ekle</button>
<button type="button" class="btn btn-red" onclick="closeTimeModal()" style="flex:1">âŒ Ä°ptal</button>
</div>
</form>
</div>
</div>

</div>

<script>
function setTheme(theme){
document.body.setAttribute('data-theme',theme);
localStorage.setItem('theme',theme);
document.querySelectorAll('.theme-btn').forEach(btn=>{
btn.classList.remove('active');
});
event.target.classList.add('active');
}

window.addEventListener('DOMContentLoaded',()=>{
const savedTheme=localStorage.getItem('theme')||'dark';
document.body.setAttribute('data-theme',savedTheme);
document.querySelectorAll('.theme-btn').forEach(btn=>{
if(btn.textContent.includes(savedTheme==='dark'?'Gece':'GÃ¼ndÃ¼z')){
btn.classList.add('active');
}else{
btn.classList.remove('active');
}
});
});

function switchTab(tabName){
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
event.target.classList.add('active');
document.getElementById('tab-'+tabName).classList.add('active');
}

function copyText(text){
navigator.clipboard.writeText(text).then(()=>{
const toast=document.createElement('div');
toast.textContent='âœ… KopyalandÄ±!';
toast.style.cssText='position:fixed;top:20px;right:20px;background:var(--green);color:white;padding:15px 25px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,.3);z-index:10000;animation:slideIn .4s ease;font-weight:600';
document.body.appendChild(toast);
setTimeout(()=>{
toast.style.animation='fadeOut .4s ease';
setTimeout(()=>toast.remove(),400);
},2000);
});
}

function openTimeModal(licenseId){
document.getElementById('modalLicenseId').value=licenseId;
document.getElementById('timeModal').style.display='flex';
}

function closeTimeModal(){
document.getElementById('timeModal').style.display='none';
}

document.getElementById('search').addEventListener('keyup',function(){
let query=this.value.toLowerCase();
document.querySelectorAll('#licenseTable tbody tr').forEach(row=>{
row.style.display=row.innerText.toLowerCase().includes(query)?'':'none';
});
});
</script>

</body>
</html>

